<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>dome2: ng2-ts-system-jspm webGL-webVR-webRTC</title>
  <base href="/dome2/app/"/> 

  <!-- normalize -->
  <link href="./styles/css/normalize.css" rel="stylesheet">

  <!-- style - 2D-stage 3D-space, ui -->
  <link href="./styles/css/meta-web.css" rel="stylesheet"> 


  <!-- angular2 scripts -->
  <script src="../node_modules/zone.js/dist/zone.js"></script>
  <script src="../node_modules/typescript/lib/typescript.js"></script>
  <script src="../node_modules/reflect-metadata/Reflect.js"></script>
  <!-- <script src="./libs/rx.all.js"></script> -->

  <!-- i3d/VR scripts -->
  <!-- NOTE: a-frame causes runtime error at zone.js:1115  
       Uncaught TypeError: Cannot assign to read only property 
       'detachedCallback' of object '#<a-node>' -->
  <!-- <script src="node_modules/aframevr/dist/aframe.js"></script> -->
  <!-- <script src="node_modules/aframe/dist/aframe.js"></script> -->
  <script src="../node_modules/three.js/node_modules/three/three.js"></script>
  <script src="./libs/stats.min.js"></script>
  
  <!-- text-to-speech w. webAudio and multipart dialogue -->
  <script src="./libs/audio/mespeak.js"></script>

  <!-- systemjs import -->
  <script src="../node_modules/systemjs/dist/system.src.js"></script>
  <script src="./systemjs/systemjs-static-es5.config.js"></script>

  <script>
    // import module M = narrative-component which exports class Narrative
    // Narrative is root-component used to boot application 
    // System.import('app').catch(function (err) {console.error(err);});
    // System.import('module.js') returns foo <=> import * as foo from 'module.js'
    System.import('app')
      .then((M) => {
        console.log(`System.import('app') returns M = ${M}`);
        for(let p of Object.keys(M)){
          console.log(`M has property ${p} with val ${M[p]}`);
        }
      })
      .catch((e) => {
        console.log(`import of narrative-component caused error: ${e}`);
      });
  </script>
</head>

<body>
<dome-narrative id='narrative'>Loading...</dome-narrative>
</body>
</html>
